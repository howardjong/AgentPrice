
 RUN  v3.0.9 /home/runner/workspace
      Coverage enabled with v8


 RUN  v3.0.9 /home/runner/workspace
      Coverage enabled with v8

stdout | tests/unit/utils/searchUtils.vitest.js
✅ Vitest setup complete

stdout | tests/unit/utils/searchUtils.vitest.js
✅ Vitest setup complete

 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > buildQuery > should build a basic search query with defaults
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > buildQuery > should throw an error if neither query nor filters are provided
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > buildQuery > should accept a query with custom sort and pagination
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > buildQuery > should handle invalid pagination parameters gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > buildQuery > should allow search with only filters and no query text
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > normalizeFilters > should handle empty filters object
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > normalizeFilters > should filter out null, undefined, and empty string values
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > normalizeFilters > should handle date range filters
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > normalizeFilters > should handle numeric range filters
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > normalizeFilters > should handle array filters
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should return all items when no filters are applied
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should handle null or undefined items gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should filter by exact match
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should filter by partial string match
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should filter by array values
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should filter by date range
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should filter by numeric range
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should combine multiple filters with AND logic
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > applyFilters > should handle properties that don't exist on items
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > sortResults > should sort by default field (timestamp) in descending order when no field is specified
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > sortResults > should sort by date fields correctly
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > sortResults > should sort by numeric fields correctly
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > sortResults > should sort by string fields correctly
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > sortResults > should handle empty arrays gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > sortResults > should handle missing fields gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > paginateResults > should paginate results with default parameters
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > paginateResults > should return specific pages of results
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > paginateResults > should handle the last page with fewer items
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > paginateResults > should handle empty arrays gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > paginateResults > should handle null or undefined inputs gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > paginateResults > should clamp page and limit to valid values
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > paginateResults > should return an empty array for an out-of-bounds page
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > transformResults > should return the original items when no transformation options are specified
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > transformResults > should include scores when includeScores is true
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > transformResults > should generate summaries when summarize is true
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > transformResults > should filter fields when fields array is provided
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > transformResults > should handle empty, null, or undefined inputs gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > transformResults > should generate a UUID for items without an id
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should handle null or undefined collection gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should return the collection when search text is empty
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should filter items based on search text in title, content, or description
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > search > should perform basic search with all defaults
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > search > should apply filters, sorting and pagination correctly
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > search > should handle search with only filters
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > search > should apply date range filters correctly
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > search > should apply numeric range filters correctly
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > search > should apply transformations correctly
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > search > should handle errors gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should filter items by query in title
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should filter items by query in content
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should filter items by query in description
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should handle case-insensitive search
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should handle empty query gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should handle null collection gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js > Search Utilities Module > performTextSearch > should handle undefined collection gracefully
 ✓ tests/unit/utils/searchUtils.vitest.js (55 tests) 165ms

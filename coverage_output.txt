
 RUN  v3.0.9 /home/runner/workspace
      Coverage enabled with v8


 RUN  v3.0.9 /home/runner/workspace
      Coverage enabled with v8

stdout | tests/unit/utils/redis-test-utils.vitest.js
✅ Vitest setup complete

stdout | tests/unit/utils/redis-test-utils.vitest.js
✅ Vitest setup complete

 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Client > should create a mock Redis client with default options
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Client > should create a mock Redis client with autoConnect=false
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Client > should create a mock Redis client with a namespace
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Client > should initialize with provided data
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > populateMockRedis > should populate a mock client with string data
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > populateMockRedis > should populate a mock client with hash data
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Error Simulation > should simulate Redis errors
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Error Simulation > should simulate Redis timeouts
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Error Simulation > should simulate Redis disconnection
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Testable Redis Client > should create a testable Redis client with extra methods
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Testable Redis Client > should provide access to the original client methods
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Testable Redis Client > should support chaining of test methods
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Testable Redis Client > should provide inspection capabilities
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Service > should create a mock Redis service
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Service > should initialize with provided data
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Service > should support simulation methods directly
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Mock Redis Service > should support method mocking
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Redis Module Mock > should create a Redis module mock
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Redis Module Mock > should return a mock client when instantiated
 ✓ tests/unit/utils/redis-test-utils.vitest.js > Redis Test Utilities > Redis Module Mock > should support cluster clients
 ✓ tests/unit/utils/redis-test-utils.vitest.js (20 tests) 169ms

 Test Files  1 passed (1)
      Tests  20 passed (20)
   Start at  21:08:01
   Duration  2.31s (transform 91ms, setup 32ms, collect 61ms, tests 169ms, environment 0ms, prepare 118ms)


 Test Files  1 passed (1)
      Tests  20 passed (20)
   Start at  21:08:01
   Duration  2.31s (transform 91ms, setup 32ms, collect 61ms, tests 169ms, environment 0ms, prepare 118ms)

 % Coverage report from v8
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |    2.67 |    26.66 |   14.47 |    2.67 |                   
 workspace         |       0 |    16.66 |   16.66 |       0 |                   
  ...zle.config.ts |       0 |        0 |       0 |       0 | 1-14              
  get-coverage.js  |       0 |        0 |       0 |       0 | 1-43              
  ...ind.config.ts |       0 |      100 |     100 |       0 | 3-90              
  temp-test.js     |       0 |        0 |       0 |       0 | 1-16              
  ...extraction.js |       0 |        0 |       0 |       0 | 1-68              
  vite.config.ts   |       0 |        0 |       0 |       0 | 1-36              
 ...ace/client/src |       0 |        0 |       0 |       0 |                   
  App.tsx          |       0 |        0 |       0 |       0 | 1-28              
  main.tsx         |       0 |        0 |       0 |       0 | 1-53              
 ...src/components |       0 |        0 |       0 |       0 |                   
  ...usMonitor.tsx |       0 |        0 |       0 |       0 | 1-440             
  ...nts-table.tsx |       0 |        0 |       0 |       0 | 1-75              
  ...interface.tsx |       0 |        0 |       0 |       0 | 1-155             
  chat-message.tsx |       0 |        0 |       0 |       0 | 1-102             
  config-panel.tsx |       0 |        0 |       0 |       0 | 1-142             
  ...-boundary.tsx |       0 |        0 |       0 |       0 | 1-29              
  ...atus-card.tsx |       0 |        0 |       0 |       0 | 1-105             
 .../components/ui |       0 |        0 |       0 |       0 |                   
  accordion.tsx    |       0 |        0 |       0 |       0 | 1-54              
  alert-dialog.tsx |       0 |        0 |       0 |       0 | 1-125             
  alert.tsx        |       0 |        0 |       0 |       0 | 1-57              
  aspect-ratio.tsx |       0 |        0 |       0 |       0 | 1-3               
  avatar.tsx       |       0 |        0 |       0 |       0 | 1-46              
  badge.tsx        |       0 |        0 |       0 |       0 | 1-34              
  breadcrumb.tsx   |       0 |        0 |       0 |       0 | 1-105             
  button.tsx       |       0 |        0 |       0 |       0 | 1-54              
  calendar.tsx     |       0 |        0 |       0 |       0 | 1-62              
  card.tsx         |       0 |        0 |       0 |       0 | 1-77              
  carousel.tsx     |       0 |        0 |       0 |       0 | 1-251             
  chart.tsx        |       0 |        0 |       0 |       0 | 1-354             
  checkbox.tsx     |       0 |        0 |       0 |       0 | 1-26              
  collapsible.tsx  |       0 |        0 |       0 |       0 | 1-7               
  command.tsx      |       0 |        0 |       0 |       0 | 1-141             
  context-menu.tsx |       0 |        0 |       0 |       0 | 1-180             
  data-card.tsx    |       0 |        0 |       0 |       0 | 1-47              
  dialog.tsx       |       0 |        0 |       0 |       0 | 1-107             
  drawer.tsx       |       0 |        0 |       0 |       0 | 1-103             
  ...down-menu.tsx |       0 |        0 |       0 |       0 | 1-180             
  form.tsx         |       0 |        0 |       0 |       0 | 1-165             
  hover-card.tsx   |       0 |        0 |       0 |       0 | 1-25              
  input-otp.tsx    |       0 |        0 |       0 |       0 | 1-67              
  input.tsx        |       0 |        0 |       0 |       0 | 1-23              
  label.tsx        |       0 |        0 |       0 |       0 | 1-22              
  menubar.tsx      |       0 |        0 |       0 |       0 | 1-215             
  ...tion-menu.tsx |       0 |        0 |       0 |       0 | 1-116             
  pagination.tsx   |       0 |        0 |       0 |       0 | 1-107             
  popover.tsx      |       0 |        0 |       0 |       0 | 1-27              
  progress.tsx     |       0 |        0 |       0 |       0 | 1-24              
  radio-group.tsx  |       0 |        0 |       0 |       0 | 1-40              
  resizable.tsx    |       0 |        0 |       0 |       0 | 1-40              
  scroll-area.tsx  |       0 |        0 |       0 |       0 | 1-44              
  select.tsx       |       0 |        0 |       0 |       0 | 1-145             
  separator.tsx    |       0 |        0 |       0 |       0 | 1-27              
  sheet.tsx        |       0 |        0 |       0 |       0 | 1-125             
  sidebar.tsx      |       0 |        0 |       0 |       0 | 1-735             
  skeleton.tsx     |       0 |        0 |       0 |       0 | 1-13              
  slider.tsx       |       0 |        0 |       0 |       0 | 1-24              
  ...ransition.tsx |       0 |        0 |       0 |       0 | 1-41              
  switch.tsx       |       0 |        0 |       0 |       0 | 1-25              
  table.tsx        |       0 |        0 |       0 |       0 | 1-106             
  tabs.tsx         |       0 |        0 |       0 |       0 | 1-51              
  terminal.tsx     |       0 |        0 |       0 |       0 | 1-42              
  textarea.tsx     |       0 |        0 |       0 |       0 | 1-22              
  toast.tsx        |       0 |        0 |       0 |       0 | 1-111             
  toaster.tsx      |       0 |        0 |       0 |       0 | 1-33              
  toggle-group.tsx |       0 |        0 |       0 |       0 | 1-57              
  toggle.tsx       |       0 |        0 |       0 |       0 | 1-41              
  tooltip.tsx      |       0 |        0 |       0 |       0 | 1-26              
 ...visualizations |       0 |        0 |       0 |       0 |                   
  ...tAnalysis.tsx |       0 |        0 |       0 |       0 | 1-190             
  ...estendorp.tsx |       0 |        0 |       0 |       0 | 1-296             
  ...nRenderer.tsx |       0 |        0 |       0 |       0 | 1-61              
 ...ient/src/hooks |       0 |        0 |       0 |       0 |                   
  use-chat.ts      |       0 |        0 |       0 |       0 | 1-119             
  use-mobile.tsx   |       0 |        0 |       0 |       0 | 1-19              
  use-toast.ts     |       0 |        0 |       0 |       0 | 1-189             
 ...client/src/lib |       0 |        0 |       0 |       0 |                   
  queryClient.ts   |       0 |        0 |       0 |       0 | 1-118             
  utils.ts         |       0 |        0 |       0 |       0 | 1-89              
 ...ient/src/pages |       0 |        0 |       0 |       0 |                   
  dashboard.tsx    |       0 |        0 |       0 |       0 | 1-192             
  not-found.tsx    |       0 |        0 |       0 |       0 | 1-21              
 workspace/config  |       0 |       50 |      50 |       0 |                   
  config.js        |       0 |      100 |     100 |       0 | 5-49              
  env.js           |       0 |        0 |       0 |       0 | 1-41              
 ...ce/middlewares |       0 |        0 |       0 |       0 |                   
  requestTracer.js |       0 |        0 |       0 |       0 | 1-83              
 ...pace/public/js |       0 |        0 |       0 |       0 |                   
  error-handler.js |       0 |        0 |       0 |       0 | 1-41              
 ...reports/assets |       0 |        0 |       0 |       0 |                   
  ...x-CsZqQx26.js |       0 |        0 |       0 |       0 | 1-52              
 ...ports/coverage |       0 |        0 |       0 |       0 |                   
  ...navigation.js |       0 |        0 |       0 |       0 | 1-87              
  prettify.js      |       0 |        0 |       0 |       0 | 1-2               
  sorter.js        |       0 |        0 |       0 |       0 | 1-196             
 ...ge/lcov-report |       0 |        0 |       0 |       0 |                   
  ...navigation.js |       0 |        0 |       0 |       0 | 1-87              
  prettify.js      |       0 |        0 |       0 |       0 | 1-2               
  sorter.js        |       0 |        0 |       0 |       0 | 1-196             
 workspace/server  |       0 |       25 |      25 |       0 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1-207             
  routes.ts        |       0 |        0 |       0 |       0 | 1-2405            
  storage.ts       |       0 |      100 |     100 |       0 | 45-333            
  vite.ts          |       0 |        0 |       0 |       0 | 1-88              
 ...erver/services |       0 |    16.66 |   16.66 |       0 |                   
  claude.ts        |       0 |        0 |       0 |       0 | 1-274             
  diagnostic.ts    |       0 |      100 |     100 |       0 | 84-327            
  healthCheck.js   |       0 |        0 |       0 |       0 | 1-114             
  healthCheck.ts   |       0 |        0 |       0 |       0 | 1-100             
  perplexity.ts    |       0 |        0 |       0 |       0 | 1-307             
  router.ts        |       0 |        0 |       0 |       0 | 1-242             
 ...space/services |       0 |        0 |       0 |       0 |                   
  ...picService.js |       0 |        0 |       0 |       0 | 1-451             
  claudeService.js |       0 |        0 |       0 |       0 | 1-456             
  ...extManager.js |       0 |        0 |       0 |       0 | 1-170             
  healthMonitor.js |       0 |        0 |       0 |       0 | 1-439             
  ...ckResearch.js |       0 |        0 |       0 |       0 | 1-155             
  jobManager.js    |       0 |        0 |       0 |       0 | 1-219             
  ...JobManager.js |       0 |        0 |       0 |       0 | 1-265             
  ...viceClient.js |       0 |        0 |       0 |       0 | 1-384             
  ...ityService.js |       0 |        0 |       0 |       0 | 1-458             
  promptManager.js |       0 |        0 |       0 |       0 | 1-534             
  redisService.js  |       0 |        0 |       0 |       0 | 1-226             
  ...rchService.js |       0 |        0 |       0 |       0 | 1-393             
  serviceRouter.js |       0 |        0 |       0 |       0 | 1-523             
 workspace/shared  |       0 |        0 |       0 |       0 |                   
  schema.ts        |       0 |        0 |       0 |       0 | 1-157             
 workspace/utils   |    6.15 |       52 |   25.22 |    6.15 |                   
  apiClient.js     |       0 |        0 |       0 |       0 | 1-231             
  ...hProcessor.js |       0 |        0 |       0 |       0 | 1-492             
  cacheMonitor.js  |       0 |        0 |       0 |       0 | 1-155             
  ...uitBreaker.js |       0 |        0 |       0 |       0 | 1-185             
  ...nentLoader.js |       0 |        0 |       0 |       0 | 1-298             
  ...entChunker.js |       0 |        0 |       0 |       0 | 1-449             
  costOptimizer.js |       0 |        0 |       0 |       0 | 1-652             
  costTracker.js   |       0 |        0 |       0 |       0 | 1-495             
  ...ultPrompts.js |       0 |        0 |       0 |       0 | 1-84              
  ...leLlmCalls.js |       0 |        0 |       0 |       0 | 1-14              
  ...gerprinter.js |       0 |        0 |       0 |       0 | 1-365             
  enhancedCache.js |       0 |        0 |       0 |       0 | 1-253             
  ...hProcessor.js |       0 |        0 |       0 |       0 | 1-433             
  ...ostTracker.js |       0 |        0 |       0 |       0 | 1-502             
  ...gerprinter.js |       0 |        0 |       0 |       0 | 1-320             
  ...eOptimizer.js |       0 |        0 |       0 |       0 | 1-180             
  logger.js        |       0 |        0 |       0 |       0 | 1-85              
  ...ge-prompts.js |       0 |        0 |       0 |       0 | 1-423             
  ...akDetector.js |       0 |        0 |       0 |       0 | 1-328             
  monitoring.js    |       0 |        0 |       0 |       0 | 1-326             
  ...nceMonitor.js |       0 |        0 |       0 |       0 | 1-232             
  promptManager.js |       0 |        0 |       0 |       0 | 1-190             
  ...tScorecard.js |       0 |        0 |       0 |       0 | 1-601             
  ...tVersioner.js |       0 |        0 |       0 |       0 | 1-199             
  rateLimiter.js   |       0 |        0 |       0 |       0 | 1-355             
  ...ck-adapter.js |    58.9 |    85.71 |   46.15 |    58.9 | ...92-209,215-216 
  redis-mock.js    |   37.24 |       44 |   17.07 |   37.24 | ...06-807,814-816 
  ...test-utils.js |   83.07 |    93.54 |   55.55 |   83.07 | ...40-241,245-246 
  ...rceManager.js |       0 |        0 |       0 |       0 | 1-404             
  smartCache.js    |       0 |        0 |       0 |       0 | 1-683             
  systemHealth.js  |       0 |        0 |       0 |       0 | 1-80              
  ...seStrategy.js |       0 |        0 |       0 |       0 | 1-283             
  ...nOptimizer.js |       0 |        0 |       0 |       0 | 1-310             
-------------------|---------|----------|---------|---------|-------------------
